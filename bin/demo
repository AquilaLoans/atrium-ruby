#!/usr/bin/env ruby
require "bundler/setup"
require "atrium"
require "pry"

api_key = "68c9c953b77a2102d52644d81e5cce53a4138852"
client_id = "75a47f7c-ecfb-4875-ad9b-410570c8d809"

::Atrium.configure do |config|
  config.mx_client_id = client_id
  config.mx_api_key = api_key
end

puts "Creating user with identifier: 'Howdy' ¬"
user = ::Atrium::User.create("asdfjahseir")

puts "Updating user identifier to: 'Wazzup!' ¬"
::Atrium::User.update(user["user"]["guid"], "Wazzup!")

puts "Reading user data ¬"
read = ::Atrium::User.read(user["user"]["guid"])
read["user"].each { |key,val| puts "#{key}: #{val}" }

puts "Deleting user"
::Atrium::User.delete(user["user"]["guid"])
